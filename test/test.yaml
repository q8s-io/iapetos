apiVersion: iapetos.foundary-cloud.io.iapetos.foundary-cloud.io/v1
kind: StatefulPod
metadata:
  name: test-statefulpod
  namespace: ldy
spec:
  pvRecyclePolicy: "Retain"
  size: 3
  podTemplate:
    containers:
      - name: test
        image: uhub.service.ucloud.cn/infra/nginx:1.17.9
        volumeMounts:
          - name: test
            mountPath: /test
    volumes:
      - name: test
        persistentVolumeClaim:
          claimName: data
  serviceTemplate:
    selector:
      app: v141299420
      test: "true"
    clusterIP: None
    ports:
      - port: 80
        targetPort: 80
  pvcTemplate:
    storageClassName: "stateful-pod-class"
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 1Gi
